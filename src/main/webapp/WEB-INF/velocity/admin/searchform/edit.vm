#parse("/admin/header.vm")


<h3>Edit Search Form</h3>

<form class="form-horizontal" method="POST">

    <div class="form-group">
        <label class="col-lg-2 control-label">Name</label>

        <div class="col-lg-8">
            #springFormInput("form.name")
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Object Type</label>

        <div class="col-lg-8">
            <select id="objectType" name="objectType">
                #foreach($option in $objectTypesMap.keySet())
                    <option value="${option}"
                        #if("$!form.objectType.id" == "$option")
                            selected="selected"
                        #end>
                        ${objectTypesMap.get($option)}</option>
                #end
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Sort</label>

        <div class="col-lg-8">
            <select id="sort" name="sort">
                #foreach($option in $sortMap.keySet())
                    <option value="${option}"
                        #if("$!form.sort" == "$option")
                            selected="selected"
                        #end>
                        ${sortMap.get($option)}</option>
                #end
            </select>
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Save changes</button>
        <a href="/backoffice/searchform" class="btn btn-default">Return</a>
    </div>

</form>


<legend>Fields</legend>
<table class="table table-condensed table-hover">
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Type</th>
        <th></th>
    </tr>
    #foreach ($f in $fields)
        <tr>
            <td>$f.id</td>
            <td>$!f.name</td>
            <td>$f.fieldType</td>
            <td>
                <a href="$urlResolver.editSearchFormField($f)" role="button" class="btn btn-xs btn-default">
                    <i class="glyphicon  glyphicon-pencil"></i> </a></td>
        </tr>
    #end
</table>

<a href="/backoffice/searchform/$form.id/field/create" class="btn btn-xs btn-info">
    <i class="glyphicon  glyphicon-plus"></i> Create Form Field</a>


#parse("/admin/footer.vm")